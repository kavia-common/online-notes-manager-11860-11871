{"is_source_file": true, "format": "TypeScript", "description": "This file provides storage management functions for a note-taking application, including loading, saving, creating, updating, deleting, and searching notes using localStorage.", "external_files": ["./types"], "external_methods": [], "published": ["loadNotes", "saveNotes", "createNote", "updateNote", "deleteNote", "searchNotes"], "classes": [], "methods": [{"name": "function uuid(): string { uuid", "description": "Generates a UUID, using crypto if available, otherwise a fallback implementation.", "scope": "", "scopeKind": ""}, {"name": "export function loadNotes(): Note[] { loadNotes", "description": "Loads all notes from localStorage, returning an array of Note objects sorted by update time descending.", "scope": "", "scopeKind": ""}, {"name": "export function saveNotes(notes: Note[]) { saveNotes", "description": "Saves an array of notes to localStorage.", "scope": "", "scopeKind": ""}, {"name": "export function createNote(input: NoteInput): Note { createNote", "description": "Creates a new note with provided input, assigns it a UUID, adds it to storage, and returns the created note.", "scope": "", "scopeKind": ""}, {"name": "export function updateNote(id: string, input: NoteInput): Note | undefined { updateNote", "description": "Updates an existing note identified by id with new input and reorders notes by updatedAt descending.", "scope": "", "scopeKind": ""}, {"name": "export function deleteNote(id: string): boolean { deleteNote", "description": "Deletes a note by id, returning true if deletion occurred.", "scope": "", "scopeKind": ""}, {"name": "export function searchNotes(query: string): Note[] { searchNotes", "description": "Performs a case-insensitive search over notes by title and content and returns matching notes.", "scope": "", "scopeKind": ""}], "calls": ["window.localStorage.getItem", "JSON.parse", "Array.isArray", "window.localStorage.setItem", "Date.now", "loadNotes"], "search-terms": ["localStorage", "note creation", "note update", "delete note", "storage management", "search notes", "UUID generation"], "state": 2, "file_id": 12, "knowledge_revision": 46, "git_revision": "", "revision_history": [{"25": ""}, {"46": ""}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^const STORAGE_KEY = \"notes_app_items_v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^export function createNote(input: NoteInput): Note {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^export function deleteNote(id: string): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleted", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const deleted = filtered.length !== notes.length;$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "filtered", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const filtered = notes.filter((n) => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    ...notes[idx],$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const idx = notes.findIndex((n) => n.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    const list = Array.isArray(parsed) ? parsed : [];$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "loadNotes", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^export function loadNotes(): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    const parsed = JSON.parse(raw) as Note[];$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const q = query.trim().toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "searchNotes", "scopeKind": "function"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    const r = (Math.random() * 16) | 0;$/", "language": "TypeScript", "kind": "constant", "scope": "uuid", "scopeKind": "function"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    const v = c === \"x\" ? r : (r & 0x3) | 0x8;$/", "language": "TypeScript", "kind": "constant", "scope": "uuid", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    const raw = window.localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "saveNotes", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^export function saveNotes(notes: Note[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "searchNotes", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^export function searchNotes(query: string): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    title: input.title.trim() || \"Untitled\",$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^export function updateNote(id: string, input: NoteInput): Note | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^  const updated: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "uuid", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^function uuid(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/online-notes-manager-11860-11871/notes_frontend/src/lib/storage.ts", "pattern": "/^    const v = c === \"x\" ? r : (r & 0x3) | 0x8;$/", "language": "TypeScript", "kind": "constant", "scope": "uuid", "scopeKind": "function"}], "hash": "8fdb9ec7dc299f00462ac886f0515dfd", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/storage.ts"}